function animateCar(){const e=1,i=.1,r=performance.now()*i;if(carSprite.position.x+=Math.sin(r)*e,carSprite.position.y+=Math.cos(r)*e,carSprite.position.x>180&&void 0===carSprite.userData.changeDirection){carSprite.userData.changeDirection=!0;const e=Math.PI/180*60,i=new THREE.Vector2(2,-1),r=(new THREE.Matrix3).set(Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e),0,0,0,1),t=i.applyMatrix3(r);carSprite.userData.vx=t.x,carSprite.userData.vy=t.y,carSprite.material.rotation=Math.PI/180*60}const t=carSprite.userData.vx||2/3,a=carSprite.userData.vy||-1.1/3;carSprite.position.x+=t,carSprite.position.y+=a,carSprite.position.x>window.innerWidth/2+100&&(carSprite.position.x=-window.innerWidth/2-100,carSprite.position.y=window.innerHeight/2-50,carSprite.userData.changeDirection=void 0,carSprite.material.rotation=0),requestAnimationFrame(animateCar),renderer.render(scene,camera)}const scene=new THREE.Scene,camera=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,1e3),renderer=new THREE.WebGLRenderer;renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement);const bgTexture=(new THREE.TextureLoader).load("img/background.png",e=>{const i=e.image.width,r=e.image.height,t=i/r,a=window.innerHeight/1.2,n=a*t;bgSprite.scale.set(n,a,1)}),bgMaterial=new THREE.SpriteMaterial({map:bgTexture}),bgSprite=new THREE.Sprite(bgMaterial);scene.add(bgSprite);const buildingTexture=(new THREE.TextureLoader).load("img/building.png",e=>{const i=e.image.width/e.image.height,r=400,t=r/i;buildingSprite.scale.set(r,t,1)}),buildingMaterial=new THREE.SpriteMaterial({map:buildingTexture}),buildingSprite=new THREE.Sprite(buildingMaterial);scene.add(buildingSprite),buildingSprite.position.set(150,-120,0);const carTexture=(new THREE.TextureLoader).load("img/track.png",e=>{const i=e.image.width,r=e.image.height;carSprite.scale.set(i/10,r/10,1)}),carMaterial=new THREE.SpriteMaterial({map:carTexture,transparent:!0}),carSprite=new THREE.Sprite(carMaterial);carSprite.position.set(-window.innerWidth/2+500,-window.innerHeight/2+300,1),scene.add(carSprite),camera.position.z=10,animateCar();